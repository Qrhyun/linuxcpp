
> 典型的一次IO的两个阶段是什么？
数据就绪 和 数据读写

![阻塞非阻塞同步异步](./1.png)

```
解释：
   1.size==-1不一定是调用失败，也有可能是非阻塞状态下的EAGAIN或者EWOULDBLOCK(取决于不同操作系统)，即再来一次的意思。
   2.数据就绪阶段是说操作系统，即内核层面。数据读写是说应用程序，即用户层面。
   3.同步就是用户程序自己干，异步就是用户程序把sockfd,buf,通知方式传给内核，让内核干。因此异步可以使得用户程序干的活儿少，提高效率。
   4.在处理 IO 的时候，阻塞和非阻塞都是同步 IO，只有使用了特殊的 API 才是异步 IO
   5.异步和非阻塞结合
   6.Linux中的异步IO接口API：aio_read(),aio_write()。
```
```
一个典型的网络IO接口调用，分为两个阶段，分别是“数据就绪” 和 “数据读写”，数据就绪阶段分为阻塞和非阻塞，表现得结果就是，阻塞当前线程或是直接返回。
同步表示A向B请求调用一个网络IO接口时（或者调用某个业务逻辑API接口时），数据的读写都是由请求方A自己来完成的（不管是阻塞还是非阻塞）；异步表示A向B请求调用一个网络IO接口时（或者调用某个业务逻辑API接口时），向B传入请求的事件以及事件发生时通知的方式，A就可以处理其它逻辑了，当B监听到事件处理完成后，会用事先约定好的通知方式，通知A处理结果
```